-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
-- â•‘  MAIN.LUA - Blox Fruits Auto Farm V2.3                   â•‘
-- â•‘  Load modules from GitHub                                â•‘
-- â•‘  Repo: longgamer998-code/SourceBloxFruit                 â•‘
-- â•‘  Made for: patrick31frag                                 â•‘
-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

print("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—")
print("â•‘  ğŸ´â€â˜ ï¸ BLOX FRUITS AUTO FARM V2.3                          â•‘")
print("â•‘  Initializing...                                          â•‘")
print("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")

-- ========== GITHUB RAW LINKS ==========
local REPO_BASE = "https://raw.githubusercontent.com/longgamer998-code/SourceBloxFruit/main/"

local CONFIG_URL = REPO_BASE .. "CONFIG.LUA"
local CORE_URL = REPO_BASE ..  "CORE.LUA"
local GUI_URL = REPO_BASE .. "GUI.LUA"

print("\nğŸ“¦ Loading modules from GitHub...")
print("ğŸ“ Repository: longgamer998-code/SourceBloxFruit")
print("")

-- ========== LOAD CONFIG ==========
print("ğŸ“¥ [1/3] Loading CONFIG.LUA...")
local Config
local success, result = pcall(function()
    Config = loadstring(game:HttpGet(CONFIG_URL))()
end)

if not success then
    warn("âŒ Failed to load CONFIG.LUA")
    warn("Error: " .. tostring(result))
    warn("URL: " .. CONFIG_URL)
    return
end

if not Config then
    warn("âŒ CONFIG.LUA returned nil")
    return
end

print("âœ… CONFIG.LUA loaded successfully")

-- ========== LOAD CORE ==========
print("ğŸ“¥ [2/3] Loading CORE.LUA...")
local Core
success, result = pcall(function()
    Core = loadstring(game:HttpGet(CORE_URL))()
end)

if not success then
    warn("âŒ Failed to load CORE.LUA")
    warn("Error: " .. tostring(result))
    warn("URL: " ..  CORE_URL)
    return
end

if not Core then
    warn("âŒ CORE. LUA returned nil")
    return
end

print("âœ… CORE.LUA loaded successfully")

-- ========== LOAD GUI ==========
print("ğŸ“¥ [3/3] Loading GUI. LUA...")
local GUI
success, result = pcall(function()
    GUI = loadstring(game:HttpGet(GUI_URL))()
end)

if not success then
    warn("âŒ Failed to load GUI.LUA")
    warn("Error: " ..  tostring(result))
    warn("URL: " .. GUI_URL)
    return
end

if not GUI then
    warn("âŒ GUI.LUA returned nil")
    return
end

print("âœ… GUI.LUA loaded successfully")

-- ========== VERIFY ALL MODULES ==========
print("\nğŸ” Verifying modules...")

if not Config or not Core or not GUI then
    warn("âŒ One or more modules failed to load")
    warn("Config: " .. tostring(Config ~= nil))
    warn("Core: " .. tostring(Core ~= nil))
    warn("GUI: " .. tostring(GUI ~= nil))
    return
end

print("âœ… All modules verified")

-- ========== INITIALIZE ==========
print("\n" .. string.rep("=", 60))
print("ğŸ´â€â˜ ï¸ BLOX FRUITS AUTO FARM V2.3")
print(string.rep("=", 60))

-- Initialize console system
print("ğŸ”§ Initializing console system...")
success, result = pcall(function()
    Core.initConsole(Config)
end)

if not success then
    warn("âŒ Failed to initialize console")
    warn("Error: " .. tostring(result))
    return
end

print("âœ… Console system initialized")

-- Display player info
local player = game: GetService("Players").LocalPlayer
print("\nğŸ‘¤ Player: " .. player. Name)
print("â­ Level: " .. tostring(Core.getPlayerLevel()))
print("ğŸ’° Beli: " .. tostring(player.Data.Beli. Value))

print(string.rep("=", 60))

-- Create GUI
print("\nğŸ¨ Creating GUI...")
success, result = pcall(function()
    GUI.create(Config, Core)
end)

if not success then
    warn("âŒ Failed to create GUI")
    warn("Error: " .. tostring(result))
    return
end

-- Display weapon list
print("\nğŸ”« Detecting weapons...")
task.spawn(function()
    task.wait(2)
    local weapons = Core.getPlayerWeapons()
    print("Weapons detected:")
    for i, weapon in ipairs(weapons) do
        print("  " .. tostring(i) .. ". " .. weapon)
    end
end)

-- Final message
print("\n" .. string.rep("=", 60))
print("âœ… Script loaded successfully!")
print(string.rep("=", 60))
print("ğŸ“– Enable 'Debug Mode' in Main tab for detailed logs")
print("ğŸ® Toggle 'Auto Farm' to start farming")
print("ğŸ–¥ï¸ Check Console tab for statistics")
print(string.rep("=", 60))

print("\nğŸŒ Loaded from:  " .. REPO_BASE)
print("ğŸ“… " .. os.date("%Y-%m-%d %H:%M:%S"))

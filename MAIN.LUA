-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
-- â•‘  MAIN.LUA - Blox Fruits Auto Farm V2.3                   â•‘
-- â•‘  Load modules from GitHub                                â•‘
-- â•‘  Repo: longgamer998-code/SourceBloxFruit                 â•‘
-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

print("ğŸ´â€â˜ ï¸ Initializing Blox Fruits Auto Farm V2.3...")
print("ğŸ“¦ Loading modules from GitHub...")

-- ========== GITHUB RAW LINKS ==========
local REPO_BASE = "https://raw.githubusercontent.com/longgamer998-code/SourceBloxFruit/main/"

local CONFIG_URL = REPO_BASE .. "Config.lua"
local CORE_URL = REPO_BASE .. "Core.lua"
local GUI_URL = REPO_BASE .. "GUI.lua"

-- ========== LOAD MODULES ==========
local loadSuccess = true
local Config, Core, GUI

print("ğŸ“¥ Loading Config.lua...")
local success, result = pcall(function()
    Config = loadstring(game:HttpGet(CONFIG_URL))()
end)

if not success then
    warn("âŒ Failed to load Config.lua:  " .. tostring(result))
    loadSuccess = false
else
    print("âœ… Config.lua loaded successfully")
end

print("ğŸ“¥ Loading Core. lua...")
success, result = pcall(function()
    Core = loadstring(game:HttpGet(CORE_URL))()
end)

if not success then
    warn("âŒ Failed to load Core.lua: " .. tostring(result))
    loadSuccess = false
else
    print("âœ… Core. lua loaded successfully")
end

print("ğŸ“¥ Loading GUI.lua...")
success, result = pcall(function()
    GUI = loadstring(game:HttpGet(GUI_URL))()
end)

if not success then
    warn("âŒ Failed to load GUI. lua: " .. tostring(result))
    loadSuccess = false
else
    print("âœ… GUI.lua loaded successfully")
end

-- ========== CHECK IF ALL MODULES LOADED ==========
if not loadSuccess then
    warn("âŒ Failed to load one or more modules.  Aborting...")
    return
end

if not Config or not Core or not GUI then
    warn("âŒ One or more modules returned nil. Aborting...")
    return
end

-- ========== INITIALIZE ==========
print("\n" .. string.rep("=", 60))
print("ğŸ´â€â˜ ï¸ BLOX FRUITS AUTO FARM V2.3")
print(string.rep("=", 60))

-- Initialize console system
print("ğŸ”§ Initializing console system...")
Core.initConsole(Config)

-- Display player info
local player = game:GetService("Players").LocalPlayer
print("ğŸ‘¤ Player:  " .. player.Name)
print("â­ Level: " .. tostring(Core.getPlayerLevel()))
print(string.rep("=", 60))

-- Create GUI
print("ğŸ¨ Creating GUI...")
GUI.create(Config, Core)

-- Display weapon list
print("\nğŸ”« Detecting weapons...")
task.spawn(function()
    task.wait(2)
    local weapons = Core. getPlayerWeapons()
    print("Weapons detected:")
    for i, weapon in ipairs(weapons) do
        print("  " .. tostring(i) .. ". " .. weapon)
    end
end)

-- Final message
print("\n" .. string.rep("=", 60))
Core.logSuccess("âœ… Combat Debug System enabled!")
print("ğŸ“– Enable 'Debug Mode' in Main tab for detailed logs")
print("ğŸ–¥ï¸ Check Console tab for combat statistics")
print(string.rep("=", 60))

print("\nâœ… Script loaded successfully!")
print("ğŸ® Open GUI and toggle 'Auto Farm' to start")
print("\nğŸ“ Loaded from: " .. REPO_BASE)
